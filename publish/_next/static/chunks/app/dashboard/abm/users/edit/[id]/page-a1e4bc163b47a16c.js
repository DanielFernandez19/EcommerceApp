(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{965:(e,a,r)=>{Promise.resolve().then(r.bind(r,3178))},3178:(e,a,r)=>{"use strict";r.d(a,{default:()=>c});var s=r(5155),t=r(2115),l=r(5695),i=r(8316),n=r(8567);function o(e){let{user:a}=e,r=(0,l.useRouter)(),[o,c]=(0,t.useState)(!1),u=async e=>{c(!0);try{await (0,i.TK)(a.id,e),r.push("/dashboard/abm/users")}catch(e){console.error("Error updating user:",e),alert("Error al actualizar el usuario. Por favor, intenta nuevamente.")}finally{c(!1)}};return(0,s.jsx)(n.p,{user:a,loading:o,onSubmit:u,onCancel:()=>{r.push("/dashboard/abm/users")},title:"Editar Usuario",subtitle:"Modifica la informaci\xf3n del usuario seleccionado",submitText:"Guardar Cambios",cancelText:"Volver a la lista",showRoleSelector:!0,initialRole:a.role,roleOptions:[{id:1,name:"Admin"},{id:2,name:"Vendor"},{id:3,name:"User"}]})}function c(e){let{userId:a}=e,r=(0,l.useRouter)(),[i,n]=(0,t.useState)(null),[c,u]=(0,t.useState)(!0),[d,h]=(0,t.useState)(null);return((0,t.useEffect)(()=>{let e=async()=>{try{u(!0);let e=await fetch("".concat("http://localhost:5000/api","/user/GetUserById/").concat(a));if(!e.ok)throw Error("Usuario no encontrado");let r=await e.json();n(r)}catch(e){h("Usuario no encontrado"),console.error("Error loading user:",e)}finally{u(!1)}};a&&e()},[a]),c)?(0,s.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("p",{className:"text-white text-lg",children:"Cargando usuario..."})})}):d||!i?(0,s.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-white mb-4",children:"Error"}),(0,s.jsx)("p",{className:"text-gray-400 mb-6",children:d||"No se pudo cargar el usuario."}),(0,s.jsx)("button",{onClick:()=>r.push("/dashboard/abm/users"),className:"px-6 py-2 bg-violet-600 text-white rounded-lg hover:bg-violet-700 transition-colors",children:"Volver a la lista"})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-900 py-8",children:(0,s.jsx)("div",{className:"max-w-4xl mx-auto px-4",children:(0,s.jsx)("div",{className:"bg-gray-800 rounded-xl border border-gray-700",children:(0,s.jsx)(o,{user:i})})})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[561,710,441,684,358],()=>a(965)),_N_E=e.O()}]);
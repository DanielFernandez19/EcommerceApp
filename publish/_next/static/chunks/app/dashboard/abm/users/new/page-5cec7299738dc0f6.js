(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[346],{4558:(e,r,s)=>{Promise.resolve().then(s.bind(s,8020))},7454:(e,r,s)=>{"use strict";s.d(r,{W:()=>o});var n=s(5155);function o(e){let{message:r,onClose:s}=e;return(0,n.jsx)("div",{className:"bg-red-900/90 border border-red-700 text-red-100 px-6 py-4 rounded-lg shadow-xl backdrop-blur-sm",role:"alert",children:(0,n.jsxs)("div",{className:"flex items-start",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)("svg",{className:"h-6 w-6 text-red-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,n.jsx)("div",{className:"ml-3 flex-1",children:(0,n.jsx)("p",{className:"font-medium text-sm",children:r})}),s&&(0,n.jsx)("button",{onClick:s,className:"ml-4 flex-shrink-0 text-red-400 hover:text-red-300 focus:outline-none transition-colors","aria-label":"Cerrar",children:(0,n.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}},8020:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>u});var n=s(5155),o=s(2115),i=s(5695),a=s(8316),t=s(8567),l=s(7454);function u(){let e=(0,i.useRouter)(),[r,s]=(0,o.useState)(null),u=async r=>{try{s(null),await (0,a.kg)(r),e.push("/dashboard/abm/users")}catch(r){let e;s(((e=(function(e){if(e instanceof Error)return e.message;if(e&&"object"==typeof e&&"status"in e){let s=e.status,n=e.body,o=e.message;switch(s){case 400:return(null==n?void 0:n.error)||(null==n?void 0:n.message)||"Los datos enviados no son v\xe1lidos. Por favor, verifica la informaci\xf3n e intenta nuevamente.";case 401:return(null==n?void 0:n.error)||(null==n?void 0:n.message)||"No tienes autorizaci\xf3n para realizar esta acci\xf3n. Por favor, inicia sesi\xf3n nuevamente.";case 403:return(null==n?void 0:n.error)||(null==n?void 0:n.message)||"No tienes permisos para realizar esta acci\xf3n.";case 404:return(null==n?void 0:n.error)||(null==n?void 0:n.message)||"El recurso solicitado no fue encontrado.";case 422:var r;let i=(null==n?void 0:null===(r=n.error)||void 0===r?void 0:r.toLowerCase())||"";if(i.includes("user")&&(i.includes("exist")||i.includes("ready")))return"El usuario ya existe en el sistema. Por favor, verifica el email ingresado.";if(i.includes("email"))return"El email ingresado no es v\xe1lido o ya est\xe1 en uso.";if(i.includes("password"))return"La contrase\xf1a no cumple con los requisitos de seguridad.";return(null==n?void 0:n.error)||(null==n?void 0:n.message)||"Los datos proporcionados no son v\xe1lidos. Por favor, verifica la informaci\xf3n e intenta nuevamente.";case 500:return(null==n?void 0:n.error)||(null==n?void 0:n.message)||"Ocurri\xf3 un error en el servidor. Por favor, intenta nuevamente m\xe1s tarde.";case 503:return(null==n?void 0:n.error)||(null==n?void 0:n.message)||"El servicio no est\xe1 disponible en este momento. Por favor, intenta m\xe1s tarde.";default:if(null==n?void 0:n.error)return String(n.error);if(null==n?void 0:n.message)return String(n.message);if(o&&o!=="HTTP ".concat(s))return o;return"Ocurri\xf3 un error (".concat(s,"). Por favor, intenta nuevamente.")}}return e&&"object"==typeof e&&"message"in e?String(e.message):"Ocurri\xf3 un error inesperado. Por favor, intenta nuevamente."})(r).replace(/HTTP \d+/g,"").replace(/Error:/g,"").replace(/error:/g,"").trim())||(e="Ocurri\xf3 un error. Por favor, intenta nuevamente."),e=e.charAt(0).toUpperCase()+e.slice(1))),setTimeout(()=>{s(null)},5e3)}};return(0,n.jsxs)("div",{className:"relative",children:[r&&(0,n.jsx)("div",{className:"fixed top-4 right-4 z-50 max-w-md animate-in slide-in-from-top-5",children:(0,n.jsx)(l.W,{message:r,onClose:()=>s(null)})}),(0,n.jsx)(t.p,{user:{id:"0",name:"",lastName:"",email:"",phoneNumber:"",billingAddress:"",postalCode:"",countryDto:void 0,provinceDto:void 0,cityDto:void 0,role:{id:3,name:"User"},idCountry:0,idProvince:0,idCity:0,idRole:3},onSubmit:u,onCancel:()=>{e.push("/dashboard/abm/users")},title:"Nuevo Usuario",subtitle:"Crea un nuevo usuario en el sistema",submitText:"Crear Usuario",cancelText:"Volver a la lista",showRoleSelector:!0,initialRole:{id:3,name:"User"},roleOptions:[{id:1,name:"Admin"},{id:2,name:"Vendor"},{id:3,name:"User"}],isNewUser:!0})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[561,710,441,684,358],()=>r(4558)),_N_E=e.O()}]);
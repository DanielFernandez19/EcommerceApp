(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{1782:(e,t,r)=>{Promise.resolve().then(r.bind(r,5674))},2488:(e,t,r)=>{"use strict";r.d(t,{AuthenticationProvider:()=>l,Z:()=>i});var o=r(5155),s=r(2115),n=r(5695);let a=(0,s.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,s.useState)(null),[i,c]=(0,s.useState)(!0),u=(0,n.useRouter)(),d=()=>{let e="; ".concat(document.cookie).split("; auth_token=");if(2===e.length){var t;return(null===(t=e.pop())||void 0===t?void 0:t.split(";").shift())||null}return null},h=()=>{let e="; ".concat(document.cookie).split("; auth_user=");if(2===e.length)try{var t;let r=null===(t=e.pop())||void 0===t?void 0:t.split(";").shift();if(r)return JSON.parse(decodeURIComponent(r))}catch(e){console.error("Error parsing auth_user cookie:",e)}return null};(0,s.useEffect)(()=>{(async()=>{try{if(d()){let e=h();e?l(e):(l(null),u.push("/Login"))}}catch(e){console.error("Error en inicializaci\xf3n:",e),l(null)}finally{c(!1)}})()},[]);let p=!!r,b=!!r&&[1,2].includes(r.idRole);return(0,o.jsx)(a.Provider,{value:{user:r,isAuthenticated:p,isAdmin:b,initializing:i,setUser:l,logout:()=>{document.cookie="auth_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="auth_user=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",localStorage.removeItem("auth"),l(null),u.push("/Login")},refreshAuth:()=>{if(d()){let e=h();e?l(e):(l(null),u.push("/Login"))}else l(null)}},children:t})}function i(){let e=(0,s.useContext)(a);if(void 0===e)throw Error("useAuthContext must be used within an AuthenticationProvider");return e}},4436:(e,t,r)=>{"use strict";r.d(t,{k5:()=>u});var o=r(2115),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=o.createContext&&o.createContext(s),a=["attr","size","title"];function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var o,s,n;o=e,s=t,n=r[t],(s=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(s))in o?Object.defineProperty(o,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):o[s]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e){return t=>o.createElement(d,l({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,r)=>o.createElement(t.tag,c({key:r},t.attr),e(t.child)))}(e.child))}function d(e){var t=t=>{var r,{attr:s,size:n,title:i}=e,u=function(e,t){if(null==e)return{};var r,o,s=function(e,t){if(null==e)return{};var r={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)r=n[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,a),d=n||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),o.createElement("svg",l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,u,{className:r,style:c(c({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),i&&o.createElement("title",null,i),e.children)};return void 0!==n?o.createElement(n.Consumer,null,e=>t(e)):t(s)}},5674:(e,t,r)=>{"use strict";r.d(t,{DashboardCards:()=>l});var o=r(5155),s=r(5695),n=r(351),a=r(2488);function l(e){let{data:t}=e,r=(0,s.useRouter)(),{user:l}=(0,a.Z)(),i=[...(null==l?void 0:l.idRole)===1?[{title:"Usuarios",description:"Gesti\xf3n de usuarios y permisos del sistema",icon:(0,o.jsx)(n.cfS,{className:"w-8 h-8"}),href:"/dashboard/abm/users",color:"bg-blue-500",actions:[{label:"Nuevo usuario",icon:(0,o.jsx)(n.GGD,{}),onClick:()=>r.push("/Register?mode=admin"),color:"bg-blue-600 hover:bg-blue-700"},{label:"Ver todos",icon:(0,o.jsx)(n.Vap,{}),onClick:()=>r.push("/dashboard/abm/users"),color:"bg-blue-100 text-blue-700 hover:bg-blue-200"}]}]:[],{title:"Productos",description:"Cat\xe1logo de productos y gesti\xf3n de inventario",icon:(0,o.jsx)(n.y52,{className:"w-8 h-8"}),href:"/dashboard/abm/products",color:"bg-green-500",stats:{label:"Total productos",value:t.stats.products.total.toLocaleString(),trend:t.stats.products.trend},actions:[{label:"Nuevo producto",icon:(0,o.jsx)(n.GGD,{}),onClick:()=>r.push("/dashboard/abm/products/new"),color:"bg-green-600 hover:bg-green-700"},{label:"Ver todos",icon:(0,o.jsx)(n.Vap,{}),onClick:()=>r.push("/dashboard/abm/products"),color:"bg-green-100 text-green-700 hover:bg-green-200"}]},{title:"Ventas",description:"Reportes de ventas y an\xe1lisis financiero",icon:(0,o.jsx)(n.z8N,{className:"w-8 h-8"}),href:"/dashboard/sales",color:"bg-orange-500",stats:{label:"Ventas mes",value:t.stats.sales.monthly,trend:t.stats.sales.trend},actions:[{label:"Reporte",icon:(0,o.jsx)(n.SG1,{}),onClick:()=>r.push("/dashboard/sales/reports"),color:"bg-orange-600 hover:bg-orange-700"},{label:"Ver detalles",icon:(0,o.jsx)(n.Vap,{}),onClick:()=>r.push("/dashboard/sales"),color:"bg-orange-100 text-orange-700 hover:bg-orange-200"}]}],c=e=>{r.push(e)};return(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:i.map((e,t)=>(0,o.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-sm border border-gray-700 overflow-hidden hover:shadow-xl hover:border-gray-600 transition-all duration-300 cursor-pointer group",onClick:()=>c(e.href),children:[(0,o.jsxs)("div",{className:"".concat(e.color," p-6 relative overflow-hidden"),children:[(0,o.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-10 rounded-full -mr-16 -mt-16"}),(0,o.jsxs)("div",{className:"relative z-10",children:[(0,o.jsx)("div",{className:"text-white mb-3",children:e.icon}),(0,o.jsx)("h3",{className:"text-xl font-bold text-white",children:e.title}),(0,o.jsx)("p",{className:"text-white/80 text-sm mt-1",children:e.description})]})]}),(0,o.jsxs)("div",{className:"p-6",children:[e.stats&&(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("span",{className:"text-sm text-gray-400",children:e.stats.label}),e.stats.trend&&(0,o.jsxs)("span",{className:"\n                      inline-flex items-center text-xs font-medium\n                      ".concat("up"===e.stats.trend?"text-green-400":"down"===e.stats.trend?"text-red-400":"text-gray-400","\n                    "),children:["up"===e.stats.trend&&"↑","down"===e.stats.trend&&"↓","neutral"===e.stats.trend&&"→"]})]}),(0,o.jsx)("div",{className:"text-2xl font-bold text-white",children:e.stats.value})]}),(0,o.jsx)("div",{className:"flex flex-col space-y-2",children:e.actions.map((e,t)=>(0,o.jsxs)("button",{onClick:t=>{t.stopPropagation(),e.onClick()},className:"\n                    flex items-center justify-between px-3 py-2 rounded-lg text-sm font-medium transition-colors\n                    ".concat(e.color,"\n                  "),children:[(0,o.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,o.jsx)("span",{children:e.icon}),(0,o.jsx)("span",{children:e.label})]}),(0,o.jsx)(n.dyV,{className:"w-4 h-4"})]},t))})]}),(0,o.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-violet-400 to-transparent transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"})]},t))})}},5695:(e,t,r)=>{"use strict";var o=r(8999);r.o(o,"usePathname")&&r.d(t,{usePathname:function(){return o.usePathname}}),r.o(o,"useRouter")&&r.d(t,{useRouter:function(){return o.useRouter}})}},e=>{var t=t=>e(e.s=t);e.O(0,[844,441,684,358],()=>t(1782)),_N_E=e.O()}]);